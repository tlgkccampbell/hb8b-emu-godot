[gd_scene load_steps=10 format=2]

[ext_resource path="res://Scenes/Overlay/FPSLabel.cs" type="Script" id=1]
[ext_resource path="res://Scenes/Overlay/Overlay.cs" type="Script" id=2]
[ext_resource path="res://Scenes/Overlay/RegisterValues.cs" type="Script" id=3]
[ext_resource path="res://Assets/Fonts/font_c64.ttf" type="DynamicFontData" id=4]
[ext_resource path="res://Scenes/Overlay/MemoryPageDisplay.cs" type="Script" id=5]
[ext_resource path="res://Scenes/Overlay/MemoryPageViewer.cs" type="Script" id=6]

[sub_resource type="DynamicFont" id=1]
font_data = ExtResource( 4 )

[sub_resource type="Theme" id=2]
default_font = SubResource( 1 )

[sub_resource type="StyleBoxFlat" id=3]
bg_color = Color( 0, 0, 0, 0.588235 )
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color( 0, 0, 0, 1 )

[node name="Overlay" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
theme = SubResource( 2 )
script = ExtResource( 2 )

[node name="VBoxContainer" type="VBoxContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
custom_constants/separation = 8

[node name="StatusPanel" type="MarginContainer" parent="VBoxContainer"]
margin_right = 1280.0
margin_bottom = 134.0
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8

[node name="PanelContainer" type="PanelContainer" parent="VBoxContainer/StatusPanel"]
margin_left = 8.0
margin_top = 8.0
margin_right = 1272.0
margin_bottom = 134.0

[node name="MarginContainer" type="MarginContainer" parent="VBoxContainer/StatusPanel/PanelContainer"]
margin_left = 7.0
margin_top = 7.0
margin_right = 1257.0
margin_bottom = 119.0
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 8

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer"]
margin_left = 8.0
margin_top = 8.0
margin_right = 1242.0
margin_bottom = 104.0

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer"]
margin_right = 1066.0
margin_bottom = 96.0
size_flags_horizontal = 3

[node name="FPSLabel" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/VBoxContainer"]
margin_right = 96.0
margin_bottom = 16.0
size_flags_horizontal = 0
size_flags_vertical = 0
text = "60 FPS"
script = ExtResource( 1 )

[node name="RegisterDisplay" type="HBoxContainer" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer"]
margin_left = 1070.0
margin_right = 1234.0
margin_bottom = 96.0

[node name="RegisterLabels" type="VBoxContainer" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay"]
margin_right = 80.0
margin_bottom = 96.0

[node name="ARegisterLabel" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterLabels"]
margin_right = 80.0
margin_bottom = 16.0
text = "A:"
align = 2

[node name="XRegisterLabel" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterLabels"]
margin_top = 20.0
margin_right = 80.0
margin_bottom = 36.0
text = "X:"
align = 2

[node name="YRegisterLabel" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterLabels"]
margin_top = 40.0
margin_right = 80.0
margin_bottom = 56.0
text = "Y:"
align = 2

[node name="StackPointerLabel" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterLabels"]
margin_top = 60.0
margin_right = 80.0
margin_bottom = 76.0
text = "STKP:"
align = 2

[node name="ProgramCounterLabel" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterLabels"]
margin_top = 80.0
margin_right = 80.0
margin_bottom = 96.0
text = "PC:"
align = 2

[node name="RegisterValues" type="VBoxContainer" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay"]
margin_left = 84.0
margin_right = 164.0
margin_bottom = 96.0
script = ExtResource( 3 )

[node name="ARegisterValue" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterValues"]
margin_right = 80.0
margin_bottom = 16.0
text = "$FF"

[node name="XRegisterValue" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterValues"]
margin_top = 20.0
margin_right = 80.0
margin_bottom = 36.0
text = "$FF"

[node name="YRegisterValue" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterValues"]
margin_top = 40.0
margin_right = 80.0
margin_bottom = 56.0
text = "$FF"

[node name="StackPointerValue" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterValues"]
margin_top = 60.0
margin_right = 80.0
margin_bottom = 76.0
text = "$FF"

[node name="ProgramCounterValue" type="Label" parent="VBoxContainer/StatusPanel/PanelContainer/MarginContainer/HBoxContainer/RegisterDisplay/RegisterValues"]
margin_top = 80.0
margin_right = 80.0
margin_bottom = 96.0
text = "$FFFF"

[node name="MemoryPanel" type="MarginContainer" parent="VBoxContainer"]
margin_top = 142.0
margin_right = 1280.0
margin_bottom = 960.0
size_flags_vertical = 3
custom_constants/margin_right = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 8

[node name="PanelContainer" type="PanelContainer" parent="VBoxContainer/MemoryPanel"]
margin_left = 8.0
margin_right = 1272.0
margin_bottom = 506.0
size_flags_vertical = 0

[node name="MarginContainer" type="MarginContainer" parent="VBoxContainer/MemoryPanel/PanelContainer"]
margin_left = 7.0
margin_top = 7.0
margin_right = 1257.0
margin_bottom = 499.0
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 8

[node name="MemoryPageViewer" type="VBoxContainer" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer"]
margin_left = 8.0
margin_top = 8.0
margin_right = 1242.0
margin_bottom = 484.0
script = ExtResource( 6 )

[node name="MemoryPageSelector" type="HBoxContainer" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer"]
margin_right = 1234.0
margin_bottom = 26.0

[node name="CenterContainer" type="CenterContainer" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/MemoryPageSelector"]
margin_right = 1234.0
margin_bottom = 26.0
size_flags_horizontal = 3

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/MemoryPageSelector/CenterContainer"]
margin_left = 474.0
margin_right = 760.0
margin_bottom = 26.0

[node name="Label" type="Label" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/MemoryPageSelector/CenterContainer/HBoxContainer"]
margin_top = 5.0
margin_right = 64.0
margin_bottom = 21.0
text = "Page"

[node name="SpinBox" type="SpinBox" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/MemoryPageSelector/CenterContainer/HBoxContainer"]
margin_left = 68.0
margin_right = 286.0
margin_bottom = 26.0
max_value = 255.0

[node name="CenterContainer" type="CenterContainer" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer"]
margin_top = 30.0
margin_right = 1234.0
margin_bottom = 440.0

[node name="MarginContainer" type="MarginContainer" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/CenterContainer"]
margin_left = 48.0
margin_right = 1186.0
margin_bottom = 410.0
size_flags_horizontal = 0
custom_constants/margin_top = 8
custom_constants/margin_bottom = 8

[node name="PanelContainer" type="PanelContainer" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/CenterContainer/MarginContainer"]
margin_top = 8.0
margin_right = 1138.0
margin_bottom = 402.0
custom_styles/panel = SubResource( 3 )

[node name="MarginContainer" type="MarginContainer" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/CenterContainer/MarginContainer/PanelContainer"]
margin_left = 1.0
margin_top = 1.0
margin_right = 1137.0
margin_bottom = 393.0
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 8

[node name="MemoryPageDisplay" type="Control" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/CenterContainer/MarginContainer/PanelContainer/MarginContainer"]
margin_left = 8.0
margin_top = 8.0
margin_right = 1128.0
margin_bottom = 384.0
script = ExtResource( 5 )

[node name="RomLoadButton" type="Button" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer"]
margin_left = 1009.0
margin_top = 444.0
margin_right = 1234.0
margin_bottom = 476.0
rect_min_size = Vector2( 225, 32 )
size_flags_horizontal = 8
text = "Load ROM..."

[node name="RomFileDialog" type="FileDialog" parent="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer"]
margin_left = 1009.0
margin_top = 444.0
margin_right = 1639.0
margin_bottom = 582.0
rect_min_size = Vector2( 800, 600 )
popup_exclusive = true
window_title = "Open a File"
resizable = true
mode = 0
access = 2
filters = PoolStringArray( "*.bin; Binary files" )
current_dir = "/Repositories/hb8b-emu-godot"
current_path = "/Repositories/hb8b-emu-godot/"

[connection signal="value_changed" from="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/MemoryPageSelector/CenterContainer/HBoxContainer/SpinBox" to="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/CenterContainer/MarginContainer/PanelContainer/MarginContainer/MemoryPageDisplay" method="_on_SpinBox_value_changed"]
[connection signal="pressed" from="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/RomLoadButton" to="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer" method="_on_RomLoadButton_pressed"]
[connection signal="file_selected" from="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer/RomFileDialog" to="VBoxContainer/MemoryPanel/PanelContainer/MarginContainer/MemoryPageViewer" method="_on_RomFileDialog_file_selected"]
